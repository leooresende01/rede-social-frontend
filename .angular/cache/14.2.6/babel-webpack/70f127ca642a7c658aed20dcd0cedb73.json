{"ast":null,"code":"import { Renderer2 } from '@angular/core';\nimport { NavigationEnd, NavigationStart, Router } from '@angular/router';\nimport { SeguidoresSeguindoUtil } from 'src/core/util/seguidores-seguindo.util';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../core/observable/alert.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/core/observable/barra-de-progresso.service\";\nimport * as i4 from \"@angular/common\";\n\nfunction AppComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const alert_r2 = ctx.$implicit;\n    i0.ɵɵclassMapInterpolate1(\"absolute alert \", alert_r2.alertType, \" alert-dismissible fade show\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", alert_r2.mensagem, \"\\n\");\n  }\n}\n\nfunction AppComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 3);\n  }\n}\n\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor(alertService, router, barraDeProgressoService, renderer) {\n      this.alertService = alertService;\n      this.router = router;\n      this.barraDeProgressoService = barraDeProgressoService;\n      this.renderer = renderer;\n      this.alerts = new Array();\n    }\n\n    ngOnInit() {\n      this.alertSubscription = this.alertService.getObservable().subscribe(alert => this.mostrarMensagemDeAlerta(alert));\n      this.ocutarBarraDeProgressoSubscription = this.barraDeProgressoService.getObservable().subscribe(valor => this.mostrarProgresso = valor);\n      this.routerEventSubscription = this.router.events.subscribe(event => this.mostrarBarraDeProgressoAoNavegarEOcutarModal(event));\n    }\n\n    mostrarBarraDeProgressoAoNavegarEOcutarModal(event) {\n      if (event instanceof NavigationStart) {\n        this.mostrarProgresso = true;\n        this.ocutarModal(event);\n      }\n\n      if (event instanceof NavigationEnd) {\n        this.mostrarProgresso = false;\n      }\n    }\n\n    ocutarModal(event) {\n      try {\n        const proximaUrlDaNavegacao = event.url.split('?')[0];\n\n        if (proximaUrlDaNavegacao === '/') {\n          const elementoModal = this.renderer.selectRootElement('.modal-backdrop');\n          this.renderer.removeClass(elementoModal, 'modal-backdrop');\n          const elementoBody = document.body;\n          this.renderer.setStyle(elementoBody, 'overflow', 'auto');\n        }\n      } catch (e) {}\n    }\n\n    mostrarMensagemDeAlerta(alert) {\n      this.alerts.splice(0, 1);\n      const index = this.alerts.push(alert);\n      setTimeout(() => this.alerts.splice(index - 1, 1), 3500);\n    }\n\n    ngOnDestroy() {\n      SeguidoresSeguindoUtil.desativarObservable(this.alertSubscription, this.routerEventSubscription, this.ocutarBarraDeProgressoSubscription);\n    }\n\n  }\n\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AlertService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.BarraDeProgressoService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"role\", \"alert\", 3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"role\", \"alert\"], [1, \"loading\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AppComponent_div_0_Template, 2, 4, \"div\", 0);\n        i0.ɵɵtemplate(1, AppComponent_div_1_Template, 1, 0, \"div\", 1);\n        i0.ɵɵelement(2, \"router-outlet\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.alerts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.mostrarProgresso);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i2.RouterOutlet],\n    styles: [\".espaco-lateral[_ngcontent-%COMP%]{padding:25vw 10px}.absolute[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1}.loading[_ngcontent-%COMP%]{background:#ff0000;animation:progress 2s ease;height:3px;position:fixed;top:0;left:0;right:0;z-index:1}@keyframes progress{0%{width:0}to{width:100%}}\"]\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}