{"ast":null,"code":"import { ElementRef, Renderer2 } from '@angular/core';\nimport { Alert } from 'src/model/alert';\nimport { SeguidoresSeguindoUtil } from '../../../../../core/util/seguidores-seguindo.util';\nimport { AlertType } from '../../../../../model/alert-type';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../../core/service/seguindo.service\";\nimport * as i2 from \"../../../../../core/observable/alert.service\";\nimport * as i3 from \"../../../../../core/observable/atualizar-seguidores-seguindo.service\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"elementoLoanding\"];\n\nfunction BotoesSeguirComponent_div_0_div_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function BotoesSeguirComponent_div_0_div_1_button_1_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.seguirUsuario($event));\n    });\n    i0.ɵɵtext(1, \"Seguir\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BotoesSeguirComponent_div_0_div_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function BotoesSeguirComponent_div_0_div_1_button_2_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.seguirUsuario($event));\n    });\n    i0.ɵɵtext(1, \"Seguir de volta\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BotoesSeguirComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, BotoesSeguirComponent_div_0_div_1_button_1_Template, 2, 0, \"button\", 3);\n    i0.ɵɵtemplate(2, BotoesSeguirComponent_div_0_div_1_button_2_Template, 2, 0, \"button\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.usuario.segueOUsuarioAutenticado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.usuario.segueOUsuarioAutenticado);\n  }\n}\n\nfunction BotoesSeguirComponent_div_0_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function BotoesSeguirComponent_div_0_button_2_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.deixarDeSeguir($event));\n    });\n    i0.ɵɵtext(1, \"Deixar de seguir\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BotoesSeguirComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, BotoesSeguirComponent_div_0_div_1_Template, 3, 2, \"div\", 0);\n    i0.ɵɵtemplate(2, BotoesSeguirComponent_div_0_button_2_Template, 2, 0, \"button\", 1);\n    i0.ɵɵelement(3, \"div\", null, 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.usuario.ehSeguidoPeloUsuarioAutenticado);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.usuario.ehSeguidoPeloUsuarioAutenticado);\n  }\n}\n\nexport let BotoesSeguirComponent = /*#__PURE__*/(() => {\n  class BotoesSeguirComponent {\n    constructor(seguindoService, alertService, renderer, atualizarSeguidoresSeguindoService) {\n      this.seguindoService = seguindoService;\n      this.alertService = alertService;\n      this.renderer = renderer;\n      this.atualizarSeguidoresSeguindoService = atualizarSeguidoresSeguindoService;\n    }\n\n    ngOnInit() {}\n\n    seguirUsuario(event) {\n      const botao = event.target;\n      SeguidoresSeguindoUtil.trocarOBotaoParaLoading(botao, this.renderer, this.elementoLoanding);\n      this.seguindoService.seguirUsuario(this.usuario.username).subscribe(usuario => this.alterarInformacoesDoUsuarioSeguido(usuario), err => this.tratarErros(botao));\n    }\n\n    deixarDeSeguir(event) {\n      const botao = event.target;\n      SeguidoresSeguindoUtil.trocarOBotaoParaLoading(botao, this.renderer, this.elementoLoanding);\n      this.seguindoService.deixarDeSeguirUmUsuario(this.usuario.username).subscribe(nada => this.alterarInformacoesUsuarioUnfollowed(), err => this.tratarErros(botao));\n    }\n\n    alterarInformacoesDoUsuarioSeguido(usuario) {\n      SeguidoresSeguindoUtil.atualizarInformacoesDoUsuarioSeguido(this.usuario, usuario);\n      this.removerBotaoLoading();\n    }\n\n    alterarInformacoesUsuarioUnfollowed() {\n      SeguidoresSeguindoUtil.atualizarInformacoesDoUsuarioUnfollowed(this.usuario);\n      this.removerBotaoLoading();\n    }\n\n    removerBotaoLoading() {\n      const loadingElemento = this.elementoLoanding.nativeElement;\n      this.renderer.setStyle(loadingElemento, 'display', 'none');\n      this.atualizarSeguidoresSeguindoService.proximoValor('true');\n    }\n\n    tratarErros(botao) {\n      const loadingElemento = this.elementoLoanding.nativeElement;\n      this.renderer.setStyle(botao, 'display', 'flex');\n      this.renderer.setStyle(loadingElemento, 'display', 'none');\n      this.alertService.nextValue(new Alert('Ocorreu um erro desconhecido', AlertType.DANGER));\n    }\n\n  }\n\n  BotoesSeguirComponent.ɵfac = function BotoesSeguirComponent_Factory(t) {\n    return new (t || BotoesSeguirComponent)(i0.ɵɵdirectiveInject(i1.SeguindoService), i0.ɵɵdirectiveInject(i2.AlertService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i3.AtualizarSeguidoresSeguindoService));\n  };\n\n  BotoesSeguirComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BotoesSeguirComponent,\n    selectors: [[\"rs-home-perfil-informacoes-botoesseguir\"]],\n    viewQuery: function BotoesSeguirComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.elementoLoanding = _t.first);\n      }\n    },\n    inputs: {\n      usernameUsuarioAutenticado: \"usernameUsuarioAutenticado\",\n      usuario: \"usuario\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-outline-secondary text-black btn-sm botao-texto\", 3, \"click\", 4, \"ngIf\"], [\"elementoLoanding\", \"\"], [\"type\", \"button\", \"class\", \"btn btn-primary btn-sm botao-texto\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-sm\", \"botao-texto\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"text-black\", \"btn-sm\", \"botao-texto\", 3, \"click\"]],\n    template: function BotoesSeguirComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BotoesSeguirComponent_div_0_Template, 5, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.usernameUsuarioAutenticado !== ctx.usuario.username);\n      }\n    },\n    dependencies: [i4.NgIf],\n    styles: [\"@media screen and (max-width: 500px){.botao-texto[_ngcontent-%COMP%]{font-size:3.8vw}}@media screen and (max-width: 350px){.botao-texto[_ngcontent-%COMP%]{font-size:3.2vw}}@media screen and (max-width: 270px){.botao-texto[_ngcontent-%COMP%]{font-size:2.7vw}}\"]\n  });\n  return BotoesSeguirComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}